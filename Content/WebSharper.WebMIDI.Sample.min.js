import { Start as fT } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fU, MarkResizable as fV, SetOptional as fW, Force as fX, GetOptional as fY, CreateFuncWithArgs as fZ, DeleteEmptyFields as f0, Create as f1, OnLoad as f2 } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(f3){ return"Dispose"in f3;}
function b(){ h.Create_1("");const f3=new q("New_1");const f4=(f3.h.push(t(f3.k, "connectmidi", () => f3.i, () => { const f$=null;bd(ba(() => bb(bl(e()), () => bc(null))), null);})),f3);const f5=(f4.h.push(new u0036("status", d().View)),f4);const f6=(f5.h.push(new u0036("midimessages", c().View)),f5);const f7=u(f6.k, f6.h, []);const f8=new l(f7[1], G(f7[0]));let f9=(f6.i=f8,f8);const f_=f9.Doc;br("");bJ.RunById("main", f_);}
function c(){ return u0037.midiMessages;}
function d(){ return u0037.statusMessage;}
function e(){ const f3=null;return new Promise((f4) => { f4(new Promise((f5) => { f5(globalThis.navigator.requestMIDIAccess().then((f6) => { d().Set("MIDI Access Granted!");f6.inputs.forEach((f7) => f7.addEventListener("midimessage", f));return Promise.resolve(null);}));})["catch"]((f5) => { const f6=bm(f5);d().Set("MIDI Access Denied!");const f7=f6.message;(((f8) => f8("MIDI Connection Error: "+String(f7)))((f8) => { console.log(f8);}));return Promise.resolve(null);}));});}
function f(f3){ const f4=f3.data;(((f5) => f5("MIDI Message: "+String(f4)))((f5) => { console.log(f5);}));c().Set(String(c())+"\n"+String(f4));}
let g=fU((f3) => class f4 { static { g=f3(this);} Equals(f5){ return this===f5;} GetHashCode(){ return -1;} });
let h=fU((f3) => class f4 extends g { static { h=f3(this);} static Create_1(f5){ return new H(false, {s:bN(f5, [])}, f5);} static { } });
function i(f3){ throw new Error(f3);}
function j(f3){ return[f3.K, f3.V];}
function k(f3, f4){ const f5=1+f4-f3;return f5<=0?[]:b9(f5, (f6) => f6+f3);}
let l=fU((f3) => class f4 extends g { static { l=f3(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(f5){ this.anchorRoot=f5;} constructor(f5, f6){ super();this.doc=f6;this.allVars=f5.$==0?f5.$0:i("Should not happen");this.anchorRoot=null;} });
function m(f3, f4){ o(f3, f4);return f3[f4];}
function n(f3, f4, f5){ o(f3, f4);f3[f4]=f5;}
function o(f3, f4){ if(f4<0||f4>=f3.length)i("Index was outside the bounds of the array.");}
function p(f3){ return f3.dims===2?f3.length*f3.length:f3.length;}
let q=fU((f3) => class f4 extends g { static { q=f3(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(f5){ if(f5=="New_1"){ let f6;super();this.i=null;this.k=(f6=u0038(),String(f6));this.h=fV([]);fW(this, "s", null);} } });
let r=fU((f3) => class f4 extends g { static { r=f3(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(f5, f6){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return er("");} });
let s=fU((f3) => class f4 extends g { static { s=f3(this);} });
function t(f3, f4, f5, f6){ return new u0039(f4, (f7) =>(f8) => { const f9=f5();f9.SetAnchorRoot(f7);return f6({Vars:f9, Anchors:f9, Target:f7, Event:f8});});}
function u(f3, f4, f5){ const f6=new bQ("New_5");const f7=new bW("New_3");const f8=cL(f4);try { while(f8.MoveNext()){ const f9=f8.Current;const f_=f9.Name;f7.SAdd(f_);f6.set_Item(f_, f9);} } finally { if(typeof f8=="object"&&a(f8))f8.Dispose();} return[bX(f4, ce((f$) => { const ga=f$[0];const gb=f$[1];const gc=f$[2];if(f7.Contains(ga))return null;else { const gd=gb===0?ct.GetOrAddHoleFor(f3, ga, () => { const ge=gc==null?null:bq(gc.$0);let gf=h.Create_1(ge==null?"":ge.$0);return new cu(ga, gf);}):gb===1?ct.GetOrAddHoleFor(f3, ga, () => { const ge=gc==null?null:bq(gc.$0);let gf=h.Create_1(ge==null?0:ge.$0);return new cv(ga, gf);}):gb===2?ct.GetOrAddHoleFor(f3, ga, () => { const ge=gc==null?null:bq(gc.$0);let gf=h.Create_1(ge==null?false:ge.$0);return new cw(ga, gf);}):gb===3?ct.GetOrAddHoleFor(f3, ga, () => { const ge=gc==null?null:bq(gc.$0);let gf=h.Create_1(ge==null?-8640000000000000:ge.$0);return new cx(ga, gf);}):gb===4?ct.GetOrAddHoleFor(f3, ga, () => new cy(ga, h.Create_1([]))):gb===5?ct.GetOrAddHoleFor(f3, ga, () => new cz(ga, h.Create_1(bq(globalThis.document.querySelector("[ws-dom="+ga+"]"))))):gb===6?ct.GetOrAddHoleFor(f3, ga, () => { const ge=gc==null?null:bq(gc.$0);let gf=h.Create_1(ge==null?[]:ge.$0);return new cA(ga, gf);}):i("Invalid value type");f6.set_Item(ga, gd);return bq(gd);} }, f5)), {$:0, $0:f6}];}
function v(f3, f4){ if(f3===f4)return true;else { const f5=typeof f3;if(f5=="object"){ if(f3===null||f3===void 0||f4===null||f4===void 0||!v(typeof f4, "object"))return false;else if("Equals"in f3)return f3.Equals(f4);else if("Equals"in f4)return false;else if(f3 instanceof Array&&f4 instanceof Array)return w(f3, f4);else if(f3 instanceof Date&&f4 instanceof Date)return x(f3, f4);else { const f6=[true];let f7;for(var f9 in f3)if(((f_) => { f6[0]=!f3.hasOwnProperty(f_)||f4.hasOwnProperty(f_)&&v(f3[f_], f4[f_]);return!f6[0];})(f9))break;if(f6[0]){ let f8;for(var f_ in f4)if(((f$) => { f6[0]=!f4.hasOwnProperty(f$)||f3.hasOwnProperty(f$);return!f6[0];})(f_))break;} return f6[0];} } else return f5=="function"&&("$Func"in f3?f3.$Func===f4.$Func&&f3.$Target===f4.$Target:"$Invokes"in f3&&"$Invokes"in f4&&w(f3.$Invokes, f4.$Invokes));} }
function w(f3, f4){ let f5;let f6;if(p(f3)===p(f4)){ f5=true;f6=0;while(f5&&f6<p(f3)){!v(m(f3, f6), m(f4, f6))?f5=false:void 0;f6=f6+1;} return f5;} else return false;}
function x(f3, f4){ return f3.getTime()===f4.getTime();}
function y(f3){ const f4=typeof f3;return f4=="function"?0:f4=="boolean"?f3?1:0:f4=="number"?f3:f4=="string"?z(f3):f4=="object"?f3==null?0:f3 instanceof Array?A(f3):B(f3):0;}
function z(f3){ let f4;if(f3===null)return 0;else { f4=5381;for(let f5=0, f6=f3.length-1;f5<=f6;f5++)f4=C(f4, f3[f5].charCodeAt());return f4;} }
function A(f3){ let f4=-34948909;for(let f5=0, f6=p(f3)-1;f5<=f6;f5++)f4=C(f4, y(m(f3, f5)));return f4;}
function B(f3){ if("GetHashCode"in f3)return f3.GetHashCode();else { const f4=[0];let f5;for(var f6 in f3)if(((f7) => { f4[0]=C(C(f4[0], z(f7)), y(f3[f7]));return false;})(f6))break;return f4[0];} }
function C(f3, f4){ return(f3<<5)+f3+f4;}
function D(f3, f4){ if(f3===f4)return 0;else { const f5=typeof f3;switch(f5=="function"?1:f5=="boolean"?2:f5=="number"?2:f5=="string"?2:f5=="object"?3:0){ case 0:return typeof f4=="undefined"?0:-1;case 1:return i("Cannot compare function values.");case 2:return f3<f4?-1:1;case 3:if(f3===null)return -1;else if(f4===null)return 1;else if("CompareTo"in f3)return f3.CompareTo(f4);else if("CompareTo0"in f3)return f3.CompareTo0(f4);else if(f3 instanceof Array&&f4 instanceof Array)return E(f3, f4);else if(f3 instanceof Date&&f4 instanceof Date)return F(f3, f4);else { const f6=[0];let f7;for(var f9 in f3)if(((f_) =>!f3.hasOwnProperty(f_)?false:!f4.hasOwnProperty(f_)?(f6[0]=1,true):(f6[0]=D(f3[f_], f4[f_]),f6[0]!==0))(f9))break;if(f6[0]===0){ let f8;for(var f_ in f4)if(((f$) =>!f4.hasOwnProperty(f$)?false:!f3.hasOwnProperty(f$)&&(f6[0]=-1,true))(f_))break;} return f6[0];} break;} } }
function E(f3, f4){ let f5;let f6;if(p(f3)<p(f4))return -1;else if(p(f3)>p(f4))return 1;else { f5=0;f6=0;while(f5===0&&f6<p(f3)){ f5=D(m(f3, f6), m(f4, f6));f6=f6+1;} return f5;} }
function F(f3, f4){ return D(f3.getTime(), f4.getTime());}
function G(f3){ br("index");return f3?bs("index", bq("main"), f3):void 0;}
let H=fU((f3) => { fX(s);return class f4 extends s { static { H=f3(this);} isConst;current;snap;view;id;get View(){ return this.view;} Set(f5){ if(this.isConst)(((f6) => f6("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f6) => { console.log(f6);}));else { cB(this.snap);this.current=f5;this.snap={s:bN(f5, [])};} } SetFinal(f5){ if(this.isConst)(((f6) => f6("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f6) => { console.log(f6);}));else { cB(this.snap);this.isConst=true;this.current=f5;this.snap={s:bO(f5)};} } Get(){ return this.current;} UpdateMaybe(f5){ const f6=f5(this.Get());if(f6!=null&&f6.$==1)this.Set(f6.$0);} constructor(f5, f6, f7){ super();this.isConst=f5;this.current=f7;this.snap=f6;this.view=() => this.snap;this.id=bK();} };});
function I(f3, f4, f5){ const f6=f3.s;if(f6==null)f5();else f6!=null&&f6.$==2?(f6.$1.push(f5),f4(f6.$0)):f6!=null&&f6.$==3?(f6.$0.push(f4),f6.$1.push(f5)):f4(f6.$0);}
function J(f3, f4){ const f5=f4.s;if(f5!=null&&f5.$==0)return{s:bO(f3(f5.$0))};else { const f6={s:bP([], [])};Q(f4, (f7) => { R(f6, f4, f3(f7));}, f6);return f6;} }
function K(f3, f4, f5, f6){ const f7=f4.s;const f8=f5.s;const f9=f6.s;if(f7!=null&&f7.$==0)return f8!=null&&f8.$==0?f9!=null&&f9.$==0?{s:bO(f3(f7.$0, f8.$0, f9.$0))}:S(f3, f7.$0, f8.$0, f6):f9!=null&&f9.$==0?T(f3, f7.$0, f9.$0, f5):U(f3, f7.$0, f5, f6);else if(f8!=null&&f8.$==0)return f9!=null&&f9.$==0?V(f3, f8.$0, f9.$0, f4):W(f3, f8.$0, f4, f6);else if(f9!=null&&f9.$==0)return X(f3, f9.$0, f4, f5);else { const f_={s:bP([], [])};const f$=() => { const ga=f_.s;if(!(ga!=null&&ga.$==0||ga!=null&&ga.$==2)){ const gb=Y(f4);const gc=Y(f5);const gd=Y(f6);if(gb!=null&&gb.$==1)if(gc!=null&&gc.$==1)if(gd!=null&&gd.$==1)if(gb.$0[1]&&gc.$0[1]&&gd.$0[1])Z(f_, f3(gb.$0[0], gc.$0[0], gd.$0[0]));else u0030(f_, f3(gb.$0[0], gc.$0[0], gd.$0[0]));} };Q(f4, f$, f_);Q(f5, f$, f_);Q(f6, f$, f_);return f_;} }
function L(f3){ const f4=cn(f3);if(f4.length==0)return{s:bO([])};else { const f5={s:bP([], [])};const f6=[p(f4)-1];const f7=() => { if(f6[0]===0){ const f8=cl((f9) => { const f_=f9.s;return f_!=null&&f_.$==0?f_.$0:f_!=null&&f_.$==2?f_.$0:i("value not found by View.Sequence");}, f4);if(cq((f9) => { const f_=f9.s;return f_!=null&&f_.$==0;}, f4))Z(f5, f8);else u0030(f5, f8);} else f6[0]=f6[0]-1;};cj((f8) => { Q(f8, f7, f5);}, f4);return f5;} }
function M(f3, f4, f5){ const f6=f4.s;const f7=f5.s;if(f6!=null&&f6.$==0)return f7!=null&&f7.$==0?{s:bO(f3(f6.$0, f7.$0))}:u0031(f3, f6.$0, f5);else if(f7!=null&&f7.$==0)return u0032(f3, f7.$0, f4);else { const f8={s:bP([], [])};const f9=() => { const f_=f8.s;if(!(f_!=null&&f_.$==0||f_!=null&&f_.$==2)){ const f$=Y(f4);const ga=Y(f5);if(f$!=null&&f$.$==1)if(ga!=null&&ga.$==1)if(f$.$0[1]&&ga.$0[1])Z(f8, f3(f$.$0[0], ga.$0[0]));else u0030(f8, f3(f$.$0[0], ga.$0[0]));} };Q(f4, f9, f8);Q(f5, f9, f8);return f8;} }
function N(f3, f4){ const f5=f3.s;const f6=f4.s;if(f5!=null&&f5.$==0)return f6!=null&&f6.$==0?{s:bO(null)}:f4;else if(f6!=null&&f6.$==0)return f3;else { const f7={s:bP([], [])};const f8=() => { const f9=f7.s;if(!(f9!=null&&f9.$==0||f9!=null&&f9.$==2)){ const f_=Y(f3);const f$=Y(f4);if(f_!=null&&f_.$==1)if(f$!=null&&f$.$==1)if(f_.$0[1]&&f$.$0[1])Z(f7, null);else u0030(f7, null);} };Q(f3, f8, f7);Q(f4, f8, f7);return f7;} }
function O(f3){ const f4=f3.s;if(f4==null)return f3;else if(f4!=null&&f4.$==2){ const f5={s:bN(f4.$0, [])};u0033(f3, f5);return f5;} else if(f4!=null&&f4.$==3){ const f6={s:bP([], [])};Q(f3, (f7) => { R(f6, f3, f7);}, f6);return f6;} else return f3;}
function P(f3, f4){ const f5=f3.s;if(f5==null)f4();else f5!=null&&f5.$==2?f5.$1.push(f4):f5!=null&&f5.$==3?f5.$1.push(f4):void 0;}
function Q(f3, f4, f5){ const f6=f3.s;if(f6==null)cB(f5);else f6!=null&&f6.$==2?(u0034(f6.$1, f5),f4(f6.$0)):f6!=null&&f6.$==3?(f6.$0.push(f4),u0034(f6.$1, f5)):f4(f6.$0);}
function R(f3, f4, f5){ const f6=f4.s;if(f6!=null&&f6.$==0)Z(f3, f5);else u0030(f3, f5);}
function S(f3, f4, f5, f6){ return J((f7) => f3(f4, f5, f7), f6);}
function T(f3, f4, f5, f6){ return J((f7) => f3(f4, f7, f5), f6);}
function U(f3, f4, f5, f6){ return M((f7, f8) => f3(f4, f7, f8), f5, f6);}
function V(f3, f4, f5, f6){ return J((f7) => f3(f7, f4, f5), f6);}
function W(f3, f4, f5, f6){ return M((f7, f8) => f3(f7, f4, f8), f5, f6);}
function X(f3, f4, f5, f6){ return M((f7, f8) => f3(f7, f8, f4), f5, f6);}
function Y(f3){ const f4=f3.s;return f4!=null&&f4.$==0?bq([f4.$0, true]):f4!=null&&f4.$==2?bq([f4.$0, false]):null;}
function Z(f3, f4){ const f5=f3.s;if(f5!=null&&f5.$==3){ f3.s=bO(f4);const f6=f5.$0;for(let f7=0, f8=p(f6)-1;f7<=f8;f7++)(m(f6, f7))(f4);} else void 0;}
function u0030(f3, f4){ const f5=f3.s;if(f5!=null&&f5.$==3){ f3.s=bN(f4, f5.$1);const f6=f5.$0;for(let f7=0, f8=p(f6)-1;f7<=f8;f7++)(m(f6, f7))(f4);} else void 0;}
function u0031(f3, f4, f5){ return J((f6) => f3(f4, f6), f5);}
function u0032(f3, f4, f5){ return J((f6) => f3(f6, f4), f5);}
function u0033(f3, f4){ const f5=f3.s;if(f5==null)cB(f4);else f5!=null&&f5.$==2?u0034(f5.$1, f4):f5!=null&&f5.$==3?u0034(f5.$1, f4):void 0;}
function u0034(f3, f4){ f3.push(f4);if(f3.length%20===0){ const f5=f3.slice(0);fR(f3);for(let f7=0, f8=p(f5)-1;f7<=f8;f7++){ const f6=m(f5, f7);if(typeof f6=="object")(((f9) => { if(f9.s)f3.push(f9);})(f6));else(((f9) => { f3.push(f9);})(f6));} } else void 0;}
let u0035=fU((f3) => { fX(r);return class f4 extends r { static { u0035=f3(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return er(this.fillWith);} constructor(f5, f6){ super();this.name=f5;this.fillWith=f6;} };});
let u0036=fU((f3) => { fX(r);return class f4 extends r { static { u0036=f3(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bq(this.fillWith);} get AsChoiceView(){ return es(this.fillWith);} constructor(f5, f6){ super();this.name=f5;this.fillWith=f6;} };});
let u0037=fU((f3) => class f4 { static { u0037=f3(this);} static midiMessages;static statusMessage;static { this.statusMessage=h.Create_1("Waiting for MIDI connection...");this.midiMessages=h.Create_1("");} });
function u0038(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (f3) => { const f4=Math.random()*16|0;const f5=f3=="x"?f4:f4&3|8;return f5.toString(16);});}
let u0039=fU((f3) => { fX(r);return class f4 extends r { static { u0039=f3(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f5, f6){ super();this.name=f5;this.fillWith=f6;} };});
function $(f3){ const f4={};const f5=cL(f3);try { while(f5.MoveNext()){ const f6=f5.Current;f4[f6[0]]=f6[1];} } finally { if(typeof f5=="object"&&a(f5))f5.Dispose();} return f4;}
function ba(f3){ return(f4) => { try {(f3())(f4);} catch(f5){ f4.k(bS(f5));} };}
function bb(f3, f4){ return be((f5) => { f3(bR((f6) => { if(f6.$==0){ const f7=f6.$0;bi().Fork(() => { try {(f4(f7))(f5);} catch(f8){ f5.k(bS(f8));} });} else bi().Fork(() => { f5.k(f6);});}, f5.ct));});}
function bc(f3){ return(f4) => { f4.k(bT(f3));};}
function bd(f3, f4){ const f5=(bf())[0];const f6=f4==null?f5:f4.$0;bi().Fork(() => { if(!f6.c)f3(bR((f7) => { if(f7.$==1)bg(f7.$0);}, f6));});}
function be(f3){ return(f4) => { if(f4.ct.c)bh(f4);else f3(f4);};}
function bf(){ return cJ.defCTS;}
function bg(f3){ console.log("WebSharper: Uncaught asynchronous exception", f3);}
function bh(f3){ f3.k(bU(new db("New", f3.ct)));}
function bi(){ return cJ.scheduler;}
function bj(f3){ return(f4) => { const f5=[false];const f6=(f7) => { if(f5[0])i("A continuation provided by Async.FromContinuations was invoked multiple times");else { f5[0]=true;bi().Fork(f7);} };f3((f7) => { f6(() => { f4.k(bT(f7));});}, (f7) => { f6(() => { f4.k(bS(f7));});}, (f7) => { f6(() => { f4.k(bU(f7));});});};}
function bk(){ return cJ.Zero;}
function bl(f3){ return bj((f4, f5) => { f3.then(f4, (f6) => f5(bm(f6)));});}
function bm(f3){ return f3 instanceof Error?f3:new cI(f3);}
function bn(f3){ let f4=[];let f5;for(var f6 in f3)f4.push(f3[f6]);return f4;}
let bo=fU((f3) => class f4 extends g { static { bo=f3(this);} tree;GetEnumerator(){ return cL(b0((f5) =>({K:f5.Key, V:f5.Value}), eY(false, this.tree)));} Equals(f5){ return this.Count===f5.Count&&b1(v, this, f5);} get Count(){ const f5=this.tree;return f5==null?0:f5.Count;} GetHashCode(){ return y(cn(this));} CompareTo0(f5){ return cd(D, this, f5);} });
let bp=fU((f3) => class f4 extends g { static { bp=f3(this);} });
function bq(f3){ return{$:1, $0:f3};}
function br(f3){!bt()?(bu(true),bv(globalThis.document.body, "")):void 0;bw().set_Item(f3, bx(""));}
function bs(f3, f4, f5){ let f6;const f7=(f6=null,[bx(f3).TryGetValue(f4==null?"":f4.$0, {get:() => f6, set:(f8) => { f6=f8;}}), f6]);return f7[0]?by(f7[1].cloneNode(true), f5):(console.warn("Local template doesn't exist", f4),bJ.Empty);}
function bt(){ return cQ.LocalTemplatesLoaded;}
function bu(f3){ cQ.LocalTemplatesLoaded=f3;}
function bv(f3, f4){ const f5=bx(f4);const f6=new bQ("New_5");const f7=f3.querySelectorAll("[ws-template]");for(let gh=0, gi=f7.length-1;gh<=gi;gh++){ const f8=f7[gh];const f9=f8.getAttribute("ws-template").toLowerCase();f8.removeAttribute("ws-template");f6.set_Item(f9, bz(f8));} const f_=f3.querySelectorAll("[ws-children-template]");for(let gj=0, gk=f_.length-1;gj<=gk;gj++){ const f$=f_[gj];const ga=f$.getAttribute("ws-children-template").toLowerCase();f$.removeAttribute("ws-children-template");f6.set_Item(ga, bA(f$));} const gb=f3.querySelectorAll("template[id]");for(let gl=0, gm=gb.length-1;gl<=gm;gl++){ const gc=gb[gl];f6.set_Item(gc.getAttribute("id").toLowerCase(), bB(gc));} const gd=f3.querySelectorAll("template[name]");for(let gn=0, go=gd.length-1;gn<=go;gn++){ const ge=gd[gn];f6.set_Item(ge.getAttribute("name").toLowerCase(), bB(ge));} const gf=new bW("New_3");function gg(gp){ if(!f5.ContainsKey(gp)){ let gq;const gr=(gq=null,[f6.TryGetValue(gp, {get:() => gq, set:(gs) => { gq=gs;}}), gq]);if(gr[0]){ gf.SAdd(gp);f6.RemoveKey(gp);bC(f4, bq(gp), gr[1], bq(gg));} else console.warn(gf.Contains(gp)?"Encountered loop when instantiating "+gp:"Local template does not exist: "+gp);} } while(f6.count>0)gg(bY(f6.Keys));}
function bw(){ return cQ.LoadedTemplates;}
function bx(f3){ let f4;const f5=(f4=null,[bw().TryGetValue(f3, {get:() => f4, set:(f7) => { f4=f7;}}), f4]);if(f5[0])return f5[1];else { const f6=new bQ("New_5");bw().set_Item(f3, f6);return f6;} }
function by(f3, f4){ let f5;const f6=bD(f3, bX(f4, bE().Values));const f7=f6[1];const f8=f6[0];const f9=f8.Els;return!v(f9, null)&&f9.length===1&&(m(f9, 0)instanceof Node&&(v(m(f9, 0).nodeType, Node.ELEMENT_NODE)&&(f5=m(f9, 0),true)))?de.TreeNode(f8, f7):bJ.Mk(cE(f8), f7);}
function bz(f3){ f3.removeAttribute("ws-template");const f4=f3.getAttribute("ws-replace");if(f4==null){ } else { f3.removeAttribute("ws-replace");const f5=f3.parentNode;if(v(f5, null)){ } else { const f6=globalThis.document.createElement(f3.tagName);f6.setAttribute("ws-replace", f4);f5.replaceChild(f6, f3);} } const f7=globalThis.document.createElement("div");f7.appendChild(f3);return f7;}
function bA(f3){ const f4=globalThis.document.createElement("div");while(f3.hasChildNodes())f4.appendChild(f3.firstChild);return f4;}
function bB(f3){ const f4=globalThis.document.createElement("div");const f5=f3.content;for(let f6=0, f7=f5.childNodes.length-1;f6<=f7;f6++)f4.appendChild(f5.childNodes[f6].cloneNode(true));return f4;}
function bC(f3, f4, f5, f6){ const f7=new bW("New_3");function f8(gd, ge){ while(true)switch(gd){ case 0:if(ge!==null){ const gf=ge.nextSibling;if(v(ge.nodeType, Node.TEXT_NODE))dn(ge);else if(v(ge.nodeType, Node.ELEMENT_NODE))f_(ge);ge=gf;} else return null;break;case 1:const gg=dv(ge.nodeName, bq(3), null).toLowerCase();const gh=gg.indexOf(".");const gi=gh===-1?[f3, gg]:[dv(gg, null, bq(gh-1)), dv(gg, bq(gh+1), null)];const gj=gi[1];const gk=gi[0];if(gk!=""&&!bw().ContainsKey(gk))return do_1(gj);else { if(gk==""&&f6!=null)f6.$0(gj);const gl=bw().Item(gk);if(!gl.ContainsKey(gj))return do_1(gj);else { const gm=gl.Item(gj);const gn=gm.cloneNode(true);const go=new bW("New_3");const gp=new bQ("New_5");const gq=ge.attributes;for(let gA=0, gB=gq.length-1;gA<=gB;gA++){ const gr=gq.item(gA).name.toLowerCase();const gs=gq.item(gA).nodeValue;let gt=gs==""?gr:gs.toLowerCase();gp.set_Item(gr, gt);if(!go.SAdd(gr))console.warn("Hole mapped twice", gr);} for(let gC=0, gD=ge.childNodes.length-1;gC<=gD;gC++){ const gu=ge.childNodes[gC];if(v(gu.nodeType, Node.ELEMENT_NODE))if(!go.SAdd(gu.nodeName.toLowerCase()))console.warn("Hole filled twice", gj);} const gv=ge.childNodes.length===1&&v(ge.firstChild.nodeType, Node.TEXT_NODE);if(gv){ const gw=dp(gn, ge.firstChild.textContent, gj);const gx=((gE) =>(gF) => gE.SAdd(gF))(go);let gy=((gE) =>(gF) => { if(gF!=null)gE(gF.$0);})((gE) => { gx(gE);});gy(gw);} dq(gn, go);if(!gv){ for(let gE=0, gF=ge.childNodes.length-1;gE<=gF;gE++){ const gz=ge.childNodes[gE];if(v(gz.nodeType, Node.ELEMENT_NODE))if(gz.hasAttributes())dr(gn, gz);else f9(gn, gz);} } ds(gn, gp);dt(gn, ge.parentNode, ge);ge.parentNode.removeChild(ge);return;} } break;} } function f9(gd, ge){ const gf=ge.nodeName.toLowerCase();const gg=(gk, gl) => { if(gf=="title"&&ge.hasChildNodes()){ const gm=dw(ge.textContent);ge.removeChild(ge.firstChild);while(gm.hasChildNodes())ge.appendChild(gm.firstChild);} f_(ge);return dt(ge, gk, gl);};bF(gd, "[ws-attr-holes]", (gk) => { const gl=ev(gk.getAttribute("ws-attr-holes"), [" "], 1);for(let gp=0, gq=gl.length-1;gp<=gq;gp++){ const gm=m(gl, gp);let gn=new RegExp("\\${"+gf+"}", "ig");let go=gk.getAttribute(gm).replace(gn, ge.textContent);gk.setAttribute(gm, go);} });const gh=gd.querySelector("[ws-hole="+gf+"]");if(v(gh, null)){ const gi=gd.querySelector("[ws-replace="+gf+"]");if(v(gi, null)){ const gj=gd.querySelector("slot[name="+gf+"]");return gd.tagName.toLowerCase()=="template"?(gg(gj.parentNode, gj),void gj.parentNode.removeChild(gj)):null;} else { gg(gi.parentNode, gi);gi.parentNode.removeChild(gi);return;} } else { while(gh.hasChildNodes())gh.removeChild(gh.lastChild);gh.removeAttribute("ws-hole");return gg(gh, null);} } function f_(gd){ if(!gd.hasAttribute("ws-preserve"))if(ew(gd.nodeName.toLowerCase(), "ws-"))ga(gd);else { du(gd);f$(gd.firstChild);} } function f$(gd){ return f8(0, gd);} function ga(gd){ return f8(1, gd);} function gb(gd){ while(true){ const ge=gd.querySelector("[ws-template]");if(v(ge, null)){ const gf=gd.querySelector("[ws-children-template]");if(v(gf, null)){ const gg=gd.querySelectorAll("template[id]");for(let gm=1, gn=gg.length-1;gm<=gn;gm++){ const gh=gg[gm];if(f7.Contains(gh)){ } else { bC(f3, bq(gh.getAttribute("id")), gh, null);f7.SAdd(gh);} } const gi=gd.querySelectorAll("template[name]");for(let go=1, gp=gi.length-1;go<=gp;go++){ const gj=gi[go];if(f7.Contains(gj)){ } else { bC(f3, bq(gj.getAttribute("name")), gj, null);f7.SAdd(gj);} } return null;} else { const gk=gf.getAttribute("ws-children-template");gf.removeAttribute("ws-children-template");bC(f3, bq(gk), gf, null);gd=gd;} } else { const gl=ge.getAttribute("ws-template");(bG(f3, bq(gl), ge))(null);gd=gd;} } } const gc=(f4==null?"":f4.$0).toLowerCase();bx(f3).set_Item(gc, f5);if(f5.hasChildNodes()){ gb(f5);f$(f5.firstChild);} }
function bD(f3, f4){ let f5;const f6=[];const f7=[];const f8=[];const f9=[];const f_=new bQ("New_5");const f$=cL(f4);try { while(f$.MoveNext()){ const ga=f$.Current;f_.set_Item(ga.Name, ga);} } finally { if(typeof f$=="object"&&a(f$))f$.Dispose();} let gb=dx(f3);const gc=(gl, gm) => { const gn=dV(gl, gm);f7.push(dW(gn));f8.push([gl, gn]);const go=fY(gn.OnAfterRender);if(go==null)return null;else { const gp=go.$0;f9.push(() => { gp(gl);});return;} };const gd=(gl) => { let gm;const gn=(gm=null,[f_.TryGetValue(gl, {get:() => gm, set:(gq) => { gm=gq;}}), gm]);if(gn[0]){ const go=gn[1];if(go instanceof ea)return bq(go.Value);else if(go instanceof u0035)return bq(bJ.TextNode(go.Value));else { const gp=go.ForTextView();return gp==null?null:bq(bJ.TextView(gp.$0));} } else return null;};bF(f3, "[ws-hole]", (gl) => { const gm=gl.getAttribute("ws-hole");gl.removeAttribute("ws-hole");while(gl.hasChildNodes())gl.removeChild(gl.lastChild);const gn=gd(gm);if(gn!=null&&gn.$==1){ const go=gn.$0;cR(gl, go.docNode);f6.push(da.New(dX(gl), go.docNode, null, gl, bK(), null));f7.push(go.updates);} });bF(f3, "[ws-replace]", (gl) => { const gm=gd(gl.getAttribute("ws-replace"));if(gm!=null&&gm.$==1){ const gn=gm.$0;const go=gl.parentNode;const gp=globalThis.document.createTextNode("");go.replaceChild(gp, gl);const gq=cW(gp, gn.docNode);gb=dx(f3);const gr=cf((gs) => gl===gs, gb);if(gr==null){ } else n(gb, gr.$0, gn.docNode);f6.push(da.New(dX(go), gn.docNode, bq([gq, gp]), go, bK(), null));f7.push(gn.updates);} });let ge=false;bF(f3, "slot", (gl) => { const gm=gl.getAttribute("name");const gn=gm==""||gm==null?"default":gm.toLowerCase();if(ge&&gn=="default"||!v(f3.parentElement, null)){ } else { while(gl.hasChildNodes())gl.removeChild(gl.lastChild);if(gn=="default")ge=true;const go=gd(gn);if(go!=null&&go.$==1){ const gp=go.$0;cR(gl, gp.docNode);f6.push(da.New(dX(gl), gp.docNode, null, gl, bK(), null));f7.push(gp.updates);} } });bF(f3, "[ws-attr]", (gl) => { let gm;const gn=gl.getAttribute("ws-attr");gl.removeAttribute("ws-attr");const go=(gm=null,[f_.TryGetValue(gn, {get:() => gm, set:(gq) => { gm=gq;}}), gm]);if(go[0]){ const gp=go[1];if(gp instanceof eb)gc(gl, gp.Value);else console.warn("Attribute hole filled with non-attribute data", gn);} });bF(f3, "[ws-on]", (gl) => { gc(gl, eo.Concat(ce((gm) => { let gn;const go=ev(gm, [":"], 1);const gp=(gn=null,[f_.TryGetValue(m(go, 1), {get:() => gn, set:(gr) => { gn=gr;}}), gn]);if(gp[0]){ const gq=gp[1];return gq instanceof ec?bq(ed(m(go, 0), gq.Value)):gq instanceof u0039?bq(eo.Handler(m(go, 0), gq.Value)):(console.warn("Event hole on"+m(go, 0)+" filled with non-event data", m(go, 1)),null);} else return null;}, ev(gl.getAttribute("ws-on"), [" "], 1))));gl.removeAttribute("ws-on");});bF(f3, "[ws-onafterrender]", (gl) => { let gm;const gn=gl.getAttribute("ws-onafterrender");const go=(gm=null,[f_.TryGetValue(gn, {get:() => gm, set:(gq) => { gm=gq;}}), gm]);if(go[0]){ const gp=go[1];if(gp instanceof ep){ gl.removeAttribute("ws-onafterrender");gc(gl, ee(gp.Value));} else if(gp instanceof eq){ gl.removeAttribute("ws-onafterrender");gc(gl, ee(gp.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gn);} });bF(f3, "[ws-var]", (gl) => { let gm;const gn=gl.getAttribute("ws-var");gl.removeAttribute("ws-var");const go=(gm=null,[f_.TryGetValue(gn, {get:() => gm, set:(gp) => { gm=gp;}}), gm]);if(go[0])go[1].AddAttribute((gp) =>(gq) => gc(gp, gq), gl);});const gf=() => { bH("[ws-dom]", (gl) => { let gm;let gn;let go;const gp=(gm=null,[f_.TryGetValue(gl.getAttribute("ws-dom").toLowerCase(), {get:() => gm, set:(gt) => { gm=gt;}}), gm]);if(gp[0]){ const gq=gp[1];if(gq instanceof cz){ const gr=gq.Value;gl.removeAttribute("ws-dom");gn=gl;const gs=new MutationObserver((gt, gu) => { cj((gv) => { gv.removedNodes.forEach(fZ((gw) => gw[0]===gn&&gv.addedNodes.length!==1?(gr.SetFinal(null),gu.disconnect()):null), null);}, gt);});if(gl.parentElement!==null)gs.observe(gl.parentElement, (go={},go.childList=true,go));gr.Set(bq(gl));dg((gt) => { if(gt!=null&&gt.$==1){ const gu=gt.$0;if(gn===gu){ } else { gn.replaceWith(gu);gn=gu;} } else { gn.remove();gs.disconnect();} }, gr.View);} } });};bF(f3, "[ws-attr-holes]", (gl) => { const gm=new RegExp(bI(), "g");const gn=ev(gl.getAttribute("ws-attr-holes"), [" "], 1);gl.removeAttribute("ws-attr-holes");for(let go=0, gp=gn.length-1;go<=gp;go++)((() => { let gq;const gr=m(gn, go);const gs=gl.getAttribute(gr);let gt=null;let gu=0;const gv=[];while(gt=gm.exec(gs),gt!==null){ const gw=dv(gs, bq(gu), bq(gm.lastIndex-m(gt, 0).length-1));gu=gm.lastIndex;gv.push([gw, m(gt, 1)]);} const gx=dv(gs, bq(gu), null);gm.lastIndex=0;const gy=ck((gD, gE) =>(((gF) => { const gG=gF[0];const gH=gF[1];return(gI) => { let gJ;const gK=gI[0];const gL=gI[1];const gM=(gJ=null,[f_.TryGetValue(gH, {get:() => gJ, set:(gO) => { gJ=gO;}}), gJ]);const gN=gM[0]?gM[1].AsChoiceView:er("");return gN.$==1?[gG, et.Cons(gK==""?gN.$0:dh((gO) => gO+gK, gN.$0), gL)]:[gG+gN.$0+gK, gL];};})(gD))(gE), gv, [gx, et.Empty]);if(gy[1].$==1){ if(gy[1].$1.$==1){ if(gy[1].$1.$1.$==1){ if(gy[1].$1.$1.$1.$==0){ const gz=gy[0];gq=ef(gr, di((gD, gE, gF) => gz+gD+gE+gF, gy[1].$0, gy[1].$1.$0, gy[1].$1.$1.$0));} else { const gA=gy[0];gq=ef(gr, dh((gD) => gA+eu("", gD), dj(gy[1])));} } else { const gB=gy[0];gq=ef(gr, dk((gD, gE) => gB+gD+gE, gy[1].$0, gy[1].$1.$0));} } else if(gy[0]=="")gq=ef(gr, gy[1].$0);else { const gC=gy[0];gq=ef(gr, dh((gD) => gC+gD, gy[1].$0));} } else gq=eo.Create(gr, gy[0]);return gc(gl, gq);})());});let gg=gb;const gh=f9.length==0?bq(() => { gf();}):bq((gl) => { gf();cj((gm) => { gm(gl);}, f9);});const gi=!v(gb, null)&&gb.length===1&&(m(gb, 0)instanceof Node&&(m(gb, 0)instanceof Element&&(f5=m(gb, 0),true)))?bq(f5):null;let gj={Els:gg, Dirty:true, Holes:f6, Attrs:f8, Render:gh?gh.$0:void 0, El:gi?gi.$0:void 0};let gk=f0(gj, ["Render", "El"]);return[gk, eC(df(), dl, f7)];}
function bE(){ return cQ.GlobalHoles;}
function bF(f3, f4, f5){ dD(f3, f4, (f6) => { if(f6.closest("[ws-preserve]")==null)f5(f6);});}
function bG(f3, f4, f5){ const f6=bz(f5);return(f7) => { bC(f3, f4, f6, f7);};}
function bH(f3, f4){ dE(f3, (f5) => { if(f5.closest("[ws-preserve]")==null)f4(f5);});}
function bI(){ return cQ.TextHoleRE;}
let bJ=fU((f3) => class f4 extends g { static { bJ=f3(this);} docNode;updates;static RunById(f5, f6){ const f7=globalThis.document.getElementById(f5);if(v(f7, null))i("invalid id: "+f5);else bJ.Run(f7, f6);} static Run(f5, f6){ cR(f5, f6.docNode);bJ.RunInPlace(false, f5, f6);} static get Empty(){ return bJ.Mk(null, df());} static RunInPlace(f5, f6, f7){ const f8=cT(f6, f7.docNode);dg(dL()||dS()?dT(cU(f5, f8, f7.docNode)):() => { cV(f5, f8, f7.docNode);}, f7.updates);} static Mk(f5, f6){ return new f4(f5, f6);} static TextNode(f5){ return bJ.Mk(cF(globalThis.document.createTextNode(f5)), df());} static TextView(f5){ const f6=c4();return bJ.Mk(cG(f6), dh((f7) => { c5(f6, f7);}, f5));} constructor(f5, f6){ super();this.docNode=f5;this.updates=f6;} });
function bK(){ bL(bM()+1);return bM();}
function bL(f3){ c$.counter=f3;}
function bM(){ return c$.counter;}
function bN(f3, f4){ return{$:2, $0:f3, $1:f4};}
function bO(f3){ return{$:0, $0:f3};}
function bP(f3, f4){ return{$:3, $0:f3, $1:f4};}
let bQ=fU((f3) => class f4 extends g { static { bQ=f3(this);} equals;hash;count;data;set_Item(f5, f6){ this.set(f5, f6);} set(f5, f6){ const f7=this.hash(f5);const f8=this.data[f7];if(f8==null){ this.count=this.count+1;this.data[f7]=new Array({K:f5, V:f6});} else { const f9=cf((f_) => this.equals.apply(null, [(j(f_))[0], f5]), f8);if(f9==null){ this.count=this.count+1;f8.push({K:f5, V:f6});} else f8[f9.$0]={K:f5, V:f6};} } TryGetValue(f5, f6){ const f7=this.data[this.hash(f5)];if(f7==null)return false;else { const f8=cg((f9) => { const f_=j(f9);return this.equals.apply(null, [f_[0], f5])?bq(f_[1]):null;}, f7);return f8!=null&&f8.$==1&&(f6.set(f8.$0),true);} } ContainsKey(f5){ const f6=this.data[this.hash(f5)];return f6==null?false:ch((f7) => this.equals.apply(null, [(j(f7))[0], f5]), f6);} RemoveKey(f5){ return this.remove(f5);} get Keys(){ return new dK(this);} GetEnumerator(){ return cO(ci(bn(this.data)));} get Values(){ return new eG(this);} remove(f5){ const f6=this.hash(f5);const f7=this.data[f6];if(f7==null)return false;else { const f8=cm((f9) =>!this.equals.apply(null, [(j(f9))[0], f5]), f7);return p(f8)<f7.length&&(this.count=this.count-1,this.data[f6]=f8,true);} } Item(f5){ return this.get(f5);} get(f5){ const f6=this.data[this.hash(f5)];return f6==null?cK():co((f7) => { const f8=j(f7);return this.equals.apply(null, [f8[0], f5])?bq(f8[1]):null;}, f6);} static New_5(){ return new this("New_5");} static New_6(f5, f6, f7){ return new this("New_6", f5, f6, f7);} constructor(f5, f6, f7, f8){ if(f5=="New_5"){ f5="New_6";f6=[];f7=v;f8=y;} if(f5=="New_6"){ const f9=f6;const f_=f7;const f$=f8;super();this.equals=f_;this.hash=f$;this.count=0;this.data=[];const ga=cL(f9);try { while(ga.MoveNext()){ const gb=ga.Current;this.set(gb.K, gb.V);} } finally { if(typeof ga=="object"&&a(ga))ga.Dispose();} } } });
function bR(f3, f4){ return{k:f3, ct:f4};}
function bS(f3){ return{$:1, $0:f3};}
function bT(f3){ return{$:0, $0:f3};}
function bU(f3){ return{$:2, $0:f3};}
function bV(f3, f4){ return{c:f3, r:f4};}
let bW=fU((f3) => class f4 extends g { static { bW=f3(this);} equals;hash;data;count;SAdd(f5){ return this.add(f5);} Contains(f5){ const f6=this.data[this.hash(f5)];return f6==null?false:this.arrContains(f5, f6);} add(f5){ const f6=this.hash(f5);const f7=this.data[f6];return f7==null?(this.data[f6]=[f5],this.count=this.count+1,true):this.arrContains(f5, f7)?false:(f7.push(f5),this.count=this.count+1,true);} arrContains(f5, f6){ let f7=true;let f8=0;const f9=f6.length;while(f7&&f8<f9)if(this.equals.apply(null, [f6[f8], f5]))f7=false;else f8=f8+1;return!f7;} GetEnumerator(){ return cL(eZ(this.data));} ExceptWith(f5){ const f6=cL(f5);try { while(f6.MoveNext())this.Remove(f6.Current);} finally { if(typeof f6=="object"&&a(f6))f6.Dispose();} } get Count(){ return this.count;} IntersectWith(f5){ const f6=new bW("New_4", f5, this.equals, this.hash);const f7=eZ(this.data);for(let f9=0, f_=f7.length-1;f9<=f_;f9++){ const f8=f7[f9];if(!f6.Contains(f8))this.Remove(f8);} } Remove(f5){ const f6=this.data[this.hash(f5)];return f6==null?false:this.arrRemove(f5, f6)&&(this.count=this.count-1,true);} CopyTo(f5, f6){ const f7=eZ(this.data);for(let f8=0, f9=f7.length-1;f8<=f9;f8++)n(f5, f8+f6, f7[f8]);} arrRemove(f5, f6){ let f7=true;let f8=0;const f9=f6.length;while(f7&&f8<f9)if(this.equals.apply(null, [f6[f8], f5])){ f6.splice(f8, 1);f7=false;} else f8=f8+1;return!f7;} static New_3(){ return new this("New_3");} static New_4(f5, f6, f7){ return new this("New_4", f5, f6, f7);} static New_2(f5){ return new this("New_2", f5);} constructor(f5, f6, f7, f8){ if(f5=="New_3"){ f5="New_4";f6=[];f7=v;f8=y;} let f9;if(f5=="New_2"){ f9=f6;f5="New_4";f6=f9;f7=v;f8=y;} if(f5=="New_4"){ const f_=f6;const f$=f7;const ga=f8;super();this.equals=f$;this.hash=ga;this.data=[];this.count=0;const gb=cL(f_);try { while(gb.MoveNext())this.add(gb.Current);} finally { if(typeof gb=="object"&&a(gb))gb.Dispose();} } } });
function bX(f3, f4){ return{GetEnumerator:() => { const f5=cL(f3);const f6=[true];return new cP(f5, null, (f7) => { if(f7.s.MoveNext()){ f7.c=f7.s.Current;return true;} else { const f8=f7.s;if(!v(f8, null))f8.Dispose();f7.s=null;return f6[0]&&(f6[0]=false,f7.s=cL(f4),f7.s.MoveNext()?(f7.c=f7.s.Current,true):(f7.s.Dispose(),f7.s=null,false));} }, (f7) => { const f8=f7.s;if(!v(f8, null))f8.Dispose();});}};}
function bY(f3){ const f4=cL(f3);try { return f4.MoveNext()?f4.Current:dH();} finally { if(typeof f4=="object"&&a(f4))f4.Dispose();} }
function bZ(f3, f4, f5){ let f6=f4;const f7=cL(f5);try { while(f7.MoveNext())f6=f3(f6, f7.Current);return f6;} finally { if(typeof f7=="object"&&a(f7))f7.Dispose();} }
function b0(f3, f4){ return{GetEnumerator:() => { const f5=cL(f4);return new cP(null, null, (f6) => f5.MoveNext()&&(f6.c=f3(f5.Current),true), () => { f5.Dispose();});}};}
function b1(f3, f4, f5){ return!b3((f6, f7) =>!f3(f6, f7), f4, f5);}
function b2(f3, f4){ const f5=cL(f4);try { while(f5.MoveNext())f3(f5.Current);} finally { if(typeof f5=="object"&&a(f5))f5.Dispose();} }
function b3(f3, f4, f5){ const f6=cL(f4);try { const f7=cL(f5);try { let f8=false;while(!f8&&f6.MoveNext()&&f7.MoveNext())f8=f3(f6.Current, f7.Current);return f8;} finally { if(typeof f7=="object"&&a(f7))f7.Dispose();} } finally { if(typeof f6=="object"&&a(f6))f6.Dispose();} }
function b4(f3, f4){ return{GetEnumerator:() => new cP(f4, null, (f5) => { const f6=f3(f5.s);return f6==null?false:(f5.c=f6.$0[0],f5.s=f6.$0[1],true);}, void 0)};}
function b5(f3){ return{GetEnumerator:() => cL(f3())};}
function b6(f3, f4){ return b8(b0(f3, f4));}
function b7(f3){ const f4=cL(f3);try { if(!f4.MoveNext())b_();let f5=f4.Current;while(f4.MoveNext()){ const f6=f4.Current;if(D(f6, f5)===1)f5=f6;} return f5;} finally { if(typeof f4=="object"&&a(f4))f4.Dispose();} }
function b8(f3){ return{GetEnumerator:() => { const f4=cL(f3);function f5(f6){ while(true){ const f7=f6.s;if(v(f7, null)){ if(f4.MoveNext()){ f6.s=cL(f4.Current);f6=f6;} else { f4.Dispose();return false;} } else if(f7.MoveNext()){ f6.c=f7.Current;return true;} else { f6.Dispose();f6.s=null;f6=f6;} } } return new cP(null, null, f5, (f6) => { const f7=f6.s;if(!v(f7, null))f7.Dispose();if(!v(f4, null))f4.Dispose();});}};}
function b9(f3, f4){ return b$(f3, ca(f4));}
function b_(){ return i("The input sequence was empty.");}
function b$(f3, f4){ f3<0?dJ():void 0;return{GetEnumerator:() => { const f5=[cL(f4)];return new cP(0, null, (f6) => { f6.s=f6.s+1;if(f6.s>f3)return false;else { const f7=f5[0];return v(f7, null)?dH():f7.MoveNext()?(f6.c=f7.Current,f6.s===f3?(f7.Dispose(),f5[0]=null):void 0,true):(f7.Dispose(),f5[0]=null,dH());} }, () => { const f6=f5[0];if(!v(f6, null))f6.Dispose();});}};}
function ca(f3){ return{GetEnumerator:() => new cP(0, null, (f4) => { f4.c=f3(f4.s);f4.s=f4.s+1;return true;}, void 0)};}
function cb(f3, f4){ return!cc((f5) =>!f3(f5), f4);}
function cc(f3, f4){ const f5=cL(f4);try { let f6=false;while(!f6&&f5.MoveNext())f6=f3(f5.Current);return f6;} finally { if(typeof f5=="object"&&a(f5))f5.Dispose();} }
function cd(f3, f4, f5){ const f6=cL(f4);try { const f7=cL(f5);try { let f8=0;let f9=true;while(f9&&f8===0)if(f6.MoveNext())f8=f7.MoveNext()?f3(f6.Current, f7.Current):1;else if(f7.MoveNext())f8=-1;else f9=false;return f8;} finally { if(typeof f7=="object"&&a(f7))f7.Dispose();} } finally { if(typeof f6=="object"&&a(f6))f6.Dispose();} }
function ce(f3, f4){ const f5=[];for(let f7=0, f8=f4.length-1;f7<=f8;f7++){ const f6=f3(f4[f7]);if(f6==null){ } else f5.push(f6.$0);} return f5;}
function cf(f3, f4){ let f5=null;let f6=0;while(f6<f4.length&&f5==null){ f3(f4[f6])?f5=bq(f6):void 0;f6=f6+1;} return f5;}
function cg(f3, f4){ let f5=null;let f6=0;while(f6<f4.length&&f5==null){ const f7=f3(f4[f6]);if(f7!=null&&f7.$==1)f5=f7;f6=f6+1;} return f5;}
function ch(f3, f4){ let f5=false;let f6=0;while(!f5&&f6<p(f4))if(f3(f4[f6]))f5=true;else f6=f6+1;return f5;}
function ci(f3){ return Array.prototype.concat.apply([], cn(f3));}
function cj(f3, f4){ for(let f5=0, f6=f4.length-1;f5<=f6;f5++)f3(f4[f5]);}
function ck(f3, f4, f5){ let f6=f5;const f7=f4.length;for(let f8=1, f9=f7;f8<=f9;f8++)f6=f3(f4[f7-f8], f6);return f6;}
function cl(f3, f4){ const f5=new Array(f4.length);for(let f6=0, f7=f4.length-1;f6<=f7;f6++)f5[f6]=f3(f4[f6]);return f5;}
function cm(f3, f4){ const f5=[];for(let f6=0, f7=f4.length-1;f6<=f7;f6++)if(f3(f4[f6]))f5.push(f4[f6]);return f5;}
function cn(f3){ if(f3 instanceof Array)return f3.slice();else if(f3 instanceof et)return cp(f3);else { const f4=[];const f5=cL(f3);try { while(f5.MoveNext())f4.push(f5.Current);return f4;} finally { if(typeof f5=="object"&&a(f5))f5.Dispose();} } }
function co(f3, f4){ const f5=cg(f3, f4);return f5==null?i("KeyNotFoundException"):f5.$0;}
function cp(f3){ const f4=[];let f5=f3;while(!(f5.$==0)){ f4.push(fc(f5));f5=fd(f5);} return f4;}
function cq(f3, f4){ let f5=true;let f6=0;while(f5&&f6<p(f4))if(f3(f4[f6]))f6=f6+1;else f5=false;return f5;}
function cr(f3, f4){ const f5=new Array(f3);for(let f6=0, f7=f3-1;f6<=f7;f6++)f5[f6]=f4;return f5;}
function cs(f3, f4){ if(f3<0)i("Negative size given.");else null;const f5=new Array(f3);for(let f6=0, f7=f3-1;f6<=f7;f6++)f5[f6]=f4(f6);return f5;}
let ct=fU((f3) => class f4 extends g { static { ct=f3(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(f5, f6, f7){ let f8;const f9=ct.GetHolesFor(f5);const f_=(f8=null,[f9.TryGetValue(f6, {get:() => f8, set:(ga) => { f8=ga;}}), f8]);if(f_[0])return f_[1];else { const f$=f7();f9.set_Item(f6, f$);return f$;} } static GetHolesFor(f5){ let f6;const f7=(f6=null,[ct.initialized.TryGetValue(f5, {get:() => f6, set:(f9) => { f6=f9;}}), f6]);if(f7[0])return f7[1];else { const f8=new bQ("New_5");ct.initialized.set_Item(f5, f8);return f8;} } static { ct.initialized=new bQ("New_5");ct.instances=new bQ("New_5");} });
let cu=fU((f3) => { fX(r);return class f4 extends r { static { cu=f3(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bq(this.fillWith.View);} AddAttribute(f5, f6){(f5(f6))(eg(this.fillWith));} get AsChoiceView(){ return es(dh(String, this.fillWith.View));} constructor(f5, f6){ super();this.name=f5;this.fillWith=f6;} };});
let cv=fU((f3) => { fX(r);return class f4 extends r { static { cv=f3(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bq(dh(String, this.fillWith.View));} AddAttribute(f5, f6){(f5(f6))(eh(this.fillWith));} get AsChoiceView(){ return es(dh(String, this.fillWith.View));} constructor(f5, f6){ super();this.name=f5;this.fillWith=f6;} };});
let cw=fU((f3) => { fX(r);return class f4 extends r { static { cw=f3(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bq(dh(String, this.fillWith.View));} AddAttribute(f5, f6){(f5(f6))(ei(this.fillWith));} get AsChoiceView(){ return es(dh(String, this.fillWith.View));} constructor(f5, f6){ super();this.name=f5;this.fillWith=f6;} };});
let cx=fU((f3) => { fX(r);return class f4 extends r { static { cx=f3(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bq(dh((f5) =>(new Date(f5)).toLocaleString(), this.fillWith.View));} AddAttribute(f5, f6){(f5(f6))(ej(this.fillWith));} get AsChoiceView(){ return es(dh((f5) =>(new Date(f5)).toLocaleString(), this.fillWith.View));} constructor(f5, f6){ super();this.name=f5;this.fillWith=f6;} };});
let cy=fU((f3) => { fX(r);return class f4 extends r { static { cy=f3(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bq(dh(String, this.fillWith.View));} AddAttribute(f5, f6){(f5(f6))(ek(this.fillWith));} get AsChoiceView(){ return es(dh(String, this.fillWith.View));} constructor(f5, f6){ super();this.name=f5;this.fillWith=f6;} };});
let cz=fU((f3) => { fX(r);return class f4 extends r { static { cz=f3(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f5, f6){ super();this.name=f5;this.fillWith=f6;} };});
let cA=fU((f3) => { fX(r);return class f4 extends r { static { cA=f3(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bq(dh((f5) => eu(",", f5), this.fillWith.View));} AddAttribute(f5, f6){(f5(f6))(el(this.fillWith));} get AsChoiceView(){ return es(dh(String, this.fillWith.View));} constructor(f5, f6){ super();this.name=f5;this.fillWith=f6;} };});
function cB(f3){ let f4;const f5=f3.s;if(f5==null||(f5!=null&&f5.$==2?(f4=f5.$1,false):f5!=null&&f5.$==3?(f4=f5.$1,false):true))void 0;else { f3.s=null;for(let f7=0, f8=p(f4)-1;f7<=f8;f7++){ const f6=m(f4, f7);if(typeof f6=="object")(((f9) => { cB(f9);})(f6));else f6();} } }
let cC=fU((f3) => class f4 { static { cC=f3(this);} });
function cD(f3, f4){ return fM(f3, -2147483648, 2147483647, f4);}
function cE(f3){ return{$:6, $0:f3};}
function cF(f3){ return{$:5, $0:f3};}
function cG(f3){ return{$:4, $0:f3};}
let cH=fU((f3) => class f4 extends g { static { cH=f3(this);} idle;robin;Fork(f5){ this.robin.push(f5);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const f5=Date.now();let f6=true;while(f6)if(this.robin.length===0){ this.idle=true;f6=false;} else {(this.robin.shift())();Date.now()-f5>40?(setTimeout(() => { this.tick();}, 0),f6=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
let cI=fU((f3) => { fX(Error);return class f4 extends Error { static { cI=f3(this);} reason;constructor(f5){ super("Promise rejected");this.reason=f5;} };});
let cJ=fU((f3) => class f4 { static { cJ=f3(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bV(false, []);this.scheduler=new cH();this.defCTS=[new dd()];this.Zero=bc();this.GetCT=(f5) => { f5.k(bT(f5.ct));};} });
function cK(){ throw new e7("New");}
function cL(f3){ return f3 instanceof Array?cM(f3):v(typeof f3, "string")?cN(f3):f3.GetEnumerator();}
function cM(f3){ return new cP(0, null, (f4) => { const f5=f4.s;return f5<p(f3)&&(f4.c=m(f3, f5),f4.s=f5+1,true);}, void 0);}
function cN(f3){ return new cP(0, null, (f4) => { const f5=f4.s;return f5<f3.length&&(f4.c=f3[f5],f4.s=f5+1,true);}, void 0);}
function cO(f3){ return f3 instanceof Array?cM(f3):v(typeof f3, "string")?cN(f3):"GetEnumerator0"in f3?f3.GetEnumerator0():f3.GetEnumerator();}
let cP=fU((f3) => class f4 extends g { static { cP=f3(this);} s;c;n;d;e;MoveNext(){ const f5=this.n(this);this.e=f5?1:2;return f5;} get Current(){ return this.e===1?this.c:this.e===0?i("Enumeration has not started. Call MoveNext."):i("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(f5, f6, f7, f8){ super();this.s=f5;this.c=f6;this.n=f7;this.d=f8;this.e=0;} });
let cQ=fU((f3) => class f4 { static { cQ=f3(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bQ("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bQ("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cR(f3, f4){ cS(f3, f4, null);}
function cS(f3, f4, f5){ while(true){ if(f4!=null&&f4.$==1)return cX(f3, f4.$0.El, f5);else if(f4!=null&&f4.$==2){ const f6=f4.$0;f6.Dirty=false;f4=f6.Current;} else if(f4==null)return f5;else if(f4!=null&&f4.$==4)return cX(f3, f4.$0.Text, f5);else if(f4!=null&&f4.$==5)return cX(f3, f4.$0, f5);else if(f4!=null&&f4.$==6)return ck((f9, f_) =>((((f$) =>(ga) =>(gb) => ga==null||ga.constructor===Object?cS(f$, ga, gb):cX(f$, ga, gb))(f3))(f9))(f_), f4.$0.Els, f5);else { const f7=f4.$1;const f8=f4.$0;f4=f8;f5=cS(f3, f7, f5);} } }
function cT(f3, f4){ return eH(eI(), cY(f3, d1(), f4));}
function cU(f3, f4, f5){ if(dL()){ const f6=null;return ba(() => { const f7=eJ(f5);const f8=c2(f4, f7);const f9=c1(f4, f7);return bb(dM(dN(f8, c0(f4, f7))), () => bb(cZ(f3, f4), () => bb(dM(f9), () => { f4.PreviousNodes=f7;return bc(null);})));});} else return cZ(f3, f4);}
function cV(f3, f4, f5){ const f6=eJ(f5);c3(f3, f4.Top);f4.PreviousNodes=f6;}
function cW(f3, f4){ const f5=f3.parentNode;const f6=globalThis.document.createTextNode("");f5.insertBefore(f6, f3);c6(f3, f4);return f6;}
function cX(f3, f4, f5){ dF(f3, f5, f4);return f4;}
function cY(f3, f4, f5){ cR(f3, f5);const f6=dV(f3, f4);return da.New(f6, f5, null, f3, bK(), fY(f6.OnAfterRender));}
function cZ(f3, f4){ if(dS()){ const f5=(f6) => { requestAnimationFrame(() => { c3(f3, f4.Top);f6();});};return bj((f6, f7, f8) => f5.apply(null, [f6, f7, f8]));} else { c3(f3, f4.Top);return bc(null);} }
function c0(f3, f4){ return dQ(cl((f5) => d3(f5.Attr), eN(eM(f4, eL((f5) => d2(f5.Attr), f3.PreviousNodes)))));}
function c1(f3, f4){ return dQ(cl((f5) => d5(f5.Attr), eN(eM(f3.PreviousNodes, eL((f5) => d4(f5.Attr), f4)))));}
function c2(f3, f4){ const f5=(f7) => d6(f7.Attr);const f6=(f7) => eL(f5, f7);return dQ(cl((f7) => d7(f7.Attr), eN(eO(f6(f3.PreviousNodes), f6(f4)))));}
function c3(f3, f4){!f3?c7(f4):void 0;c8(f4.Children);c9(f4);}
function c4(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function c5(f3, f4){ f3.Value=f4;f3.Dirty=true;}
function c6(f3, f4){ cS(f3.parentNode, f4, f3);}
function c7(f3){ function f4(f5){ function f6(f7){ while(true){ if(f7!=null&&f7.$==0){ const f8=f7.$1;const f9=f7.$0;if(f6(f9))return true;else f7=f8;} else if(f7!=null&&f7.$==2){ const f_=f7.$0;if(f_.Dirty)return true;else f7=f_.Current;} else if(f7!=null&&f7.$==6){ const f$=f7.$0;return f$.Dirty||ch(f4, f$.Holes);} else return false;} } return f6(f5.Children);} d_(f3.El, f3.Attr);if(f4(f3))c_(f3);}
function c8(f3){ while(true){ if(f3!=null&&f3.$==1)return c3(false, f3.$0);else if(f3!=null&&f3.$==2){ const f4=f3.$0;f3=f4.Current;} else if(f3==null)return null;else if(f3!=null&&f3.$==5)return null;else if(f3!=null&&f3.$==4){ const f5=f3.$0;return f5.Dirty?(f5.Text.nodeValue=f5.Value,f5.Dirty=false):null;} else if(f3!=null&&f3.$==6){ const f6=f3.$0;cj((f9) => { c3(false, f9);}, f6.Holes);cj((f9) => { d_(f9[0], f9[1]);}, f6.Attrs);return c9(f6);} else { const f7=f3.$1;const f8=f3.$0;c8(f8);f3=f7;} } }
function c9(f3){ const f4=fY(f3.Render);if(f4!=null&&f4.$==1){ f4.$0(f3.El);fW(f3, "Render", null);} }
function c_(f3){ const f4=f3.El;function f5(f9, f_){ while(true){ if(f9!=null&&f9.$==1)return f9.$0.El;else if(f9!=null&&f9.$==2){ const f$=f9.$0;if(f$.Dirty){ f$.Dirty=false;return cS(f4, f$.Current, f_);} else f9=f$.Current;} else if(f9==null)return f_;else if(f9!=null&&f9.$==4)return f9.$0.Text;else if(f9!=null&&f9.$==5)return f9.$0;else if(f9!=null&&f9.$==6){ const ga=f9.$0;if(ga.Dirty)ga.Dirty=false;return ck((gd, ge) => gd==null||gd.constructor===Object?f5(gd, ge):gd, ga.Els, f_);} else { const gb=f9.$1;const gc=f9.$0;f9=gc;f_=f5(gb, f_);} } } const f6=f3.El;fH((f9) => { dG(f6, f9);}, fG(fI(f3), fF(f3.El, fY(f3.Delimiters))));let f7=f3.Children;const f8=fY(f3.Delimiters);f5(f7, f8!=null&&f8.$==1?f8.$0[1]:null);}
let c$=fU((f3) => class f4 { static { c$=f3(this);} static counter;static { this.counter=0;} });
let da=fU((f3) => class f4 { static { da=f3(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(f5){ return this.ElKey===f5.ElKey;} GetHashCode(){ return this.ElKey;} static New(f5, f6, f7, f8, f9, f_){ const f$={Attr:f5, Children:f6, El:f8, ElKey:f9};let ga=(fW(f$, "Delimiters", f7),fW(f$, "Render", f_),f$);return f1(da, ga);} });
let db=fU((f3) => { fX(Error);return class f4 extends Error { static { db=f3(this);} ct;static New(f5){ return new this("New", f5);} static New_1(f5, f6, f7){ return new this("New_1", f5, f6, f7);} constructor(f5, f6, f7, f8){ let f9;if(f5=="New"){ f9=f6;f5="New_1";f6="The operation was canceled.";f7=null;f8=f9;} if(f5=="New_1"){ const f_=f6;const f$=f7;const ga=f8;super(f_);this.inner=f$;this.ct=ga;} } };});
let dc=fU((f3) => class f4 { static { dc=f3(this);} Key;Value;Equals(f5){ return v(this.Key, f5.Key);} GetHashCode(){ return y(this.Key);} CompareTo0(f5){ return D(this.Key, f5.Key);} });
let dd=fU((f3) => class f4 extends g { static { dd=f3(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
let de=fU((f3) => { fX(bJ);return class f4 extends bJ { static { de=f3(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(f5, f6){ const f7=eF.Create(f6);const f8=cl((f$) => dW(f$[1]), f5.Attrs);let f9=eC(df(), dl, f8);let f_=dl(f9, f7.v);return new f4(cE(f5), f_, m(f5.Els, 0), f7);} constructor(f5, f6, f7, f8){ super(f5, f6);this.docNode_1=f5;this.updates_1=f6;this.elt=f7;this.rvUpdates=f8;} };});
function df(f3){ const f4={s:bO(f3)};return() => f4;}
function dg(f3, f4){ function f5(){ I(f4(), f3, () => { bi().Fork(f5);});} bi().Fork(f5);}
function dh(f3, f4){ return dm(() => J(f3, f4()));}
function di(f3, f4, f5, f6){ return dm(() => K(f3, f4(), f5(), f6()));}
function dj(f3){ return dm(() => L(b0((f4) => f4(), f3)));}
function dk(f3, f4, f5){ return dm(() => M(f3, f4(), f5()));}
function dl(f3, f4){ return dm(() => N(f3(), f4()));}
function dm(f3){ const f4={c:null, o:f3};return() => { let f5=f4.c;if(f5===null){ f5=f4.o();f4.c=f5;const f6=f5.s;if(f6!=null&&f6.$==0)f4.o=null;else P(f5, () => { f4.c=null;});return f5;} else return f5;};}
function dn(f3){ let f4=null;let f5=0;const f6=f3.textContent;const f7=new RegExp(bI(), "g");while(f4=f7.exec(f6),f4!==null){ f3.parentNode.insertBefore(globalThis.document.createTextNode(dv(f6, bq(f5), bq(f7.lastIndex-m(f4, 0).length-1))), f3);f5=f7.lastIndex;const f8=globalThis.document.createElement("span");f8.setAttribute("ws-replace", m(f4, 1).toLowerCase());f3.parentNode.insertBefore(f8, f3);} f7.lastIndex=0;f3.textContent=dv(f6, bq(f5), null);}
function do_1(f3){ console.warn("Instantiating non-loaded template", f3);}
function dp(f3, f4, f5){ const f6=f3.querySelector("[ws-replace]");return v(f6, null)?(console.warn("Filling non-existent text hole", f5),null):(f6.parentNode.replaceChild(globalThis.document.createTextNode(f4), f6),bq(f6.getAttribute("ws-replace")));}
function dq(f3, f4){ const f5=(f6) => { bF(f3, "["+f6+"]", (f7) => { if(!f4.Contains(f7.getAttribute(f6)))f7.removeAttribute(f6);});};f5("ws-attr");f5("ws-onafterrender");f5("ws-var");bF(f3, "[ws-hole]", (f6) => { if(!f4.Contains(f6.getAttribute("ws-hole"))){ f6.removeAttribute("ws-hole");while(f6.hasChildNodes())f6.removeChild(f6.lastChild);} });bF(f3, "[ws-replace]", (f6) => { if(!f4.Contains(f6.getAttribute("ws-replace")))f6.parentNode.removeChild(f6);});bF(f3, "[ws-on]", (f6) => { f6.setAttribute("ws-on", eu(" ", cm((f7) => f4.Contains(m(ev(f7, [":"], 1), 1)), ev(f6.getAttribute("ws-on"), [" "], 1))));});bF(f3, "[ws-attr-holes]", (f6) => { const f7=ev(f6.getAttribute("ws-attr-holes"), [" "], 1);for(let f$=0, ga=f7.length-1;f$<=ga;f$++){ const f8=m(f7, f$);let f9=new RegExp(bI(), "g");let f_=f6.getAttribute(f8).replace(f9, (gb, gc) => f4.Contains(gc)?gb:"");f6.setAttribute(f8, f_);} });}
function dr(f3, f4){ du(f4);const f5=f4.nodeName.toLowerCase();const f6=f3.querySelector("[ws-attr="+f5+"]");if(v(f6, null))console.warn("Filling non-existent attr hole", f5);else { f6.removeAttribute("ws-attr");for(let f8=0, f9=f4.attributes.length-1;f8<=f9;f8++){ const f7=f4.attributes.item(f8);if(f7.name=="class"&&f6.hasAttribute("class"))f6.setAttribute("class", f6.getAttribute("class")+" "+f7.nodeValue);else f6.setAttribute(f7.name, f7.nodeValue);} } }
function ds(f3, f4){ const f5=(f6) => { bF(f3, "["+f6+"]", (f7) => { let f8;const f9=(f8=null,[f4.TryGetValue(f7.getAttribute(f6).toLowerCase(), {get:() => f8, set:(f_) => { f8=f_;}}), f8]);if(f9[0])f7.setAttribute(f6, f9[1]);});};f5("ws-hole");f5("ws-replace");f5("ws-attr");f5("ws-onafterrender");f5("ws-var");bF(f3, "[ws-on]", (f6) => { f6.setAttribute("ws-on", eu(" ", cl((f7) => { let f8;const f9=ev(f7, [":"], 1);const f_=(f8=null,[f4.TryGetValue(m(f9, 1), {get:() => f8, set:(f$) => { f8=f$;}}), f8]);return f_[0]?m(f9, 0)+":"+f_[1]:f7;}, ev(f6.getAttribute("ws-on"), [" "], 1))));});bF(f3, "[ws-attr-holes]", (f6) => { const f7=ev(f6.getAttribute("ws-attr-holes"), [" "], 1);for(let f8=0, f9=f7.length-1;f8<=f9;f8++)((() => { const f_=m(f7, f8);return f6.setAttribute(f_, bZ((f$, ga) => { const gb=j(ga);return f$.replace(new RegExp("\\${"+gb[0]+"}", "ig"), "${"+gb[1]+"}");}, f6.getAttribute(f_), f4));})());});}
function dt(f3, f4, f5){ while(true){ if(f3.hasChildNodes())f5=f4.insertBefore(f3.lastChild, f5);else return null;} }
function du(f3){ const f4=f3.attributes;const f5=[];const f6=[];const f7=[];for(let ga=0, gb=f4.length-1;ga<=gb;ga++){ const f8=f4.item(ga);if(ew(f8.nodeName, "ws-on")&&f8.nodeName!="ws-onafterrender"&&f8.nodeName!="ws-on"){ f5.push(f8.nodeName);f6.push(dv(f8.nodeName, bq("ws-on".length), null)+":"+f8.nodeValue.toLowerCase());} else if(!ew(f8.nodeName, "ws-")&&(new RegExp(bI())).test(f8.nodeValue)){ let f9=new RegExp(bI(), "g");let f_=f8.nodeValue.replace(f9, (gc, gd) =>"${"+gd.toLowerCase()+"}");f8.nodeValue=f_;f7.push(f8.nodeName);} else void 0;} if(!(f6.length==0))f3.setAttribute("ws-on", eu(" ", f6));if(!(f7.length==0))f3.setAttribute("ws-attr-holes", eu(" ", f7));const f$=(gc) => { const gd=f3.getAttribute(gc);if(gd==null){ } else f3.setAttribute(gc, gd.toLowerCase());};f$("ws-hole");f$("ws-replace");f$("ws-attr");f$("ws-onafterrender");f$("ws-var");cj((gc) => { f3.removeAttribute(gc);}, f5);}
function dv(f3, f4, f5){ if(f4==null){ if(f5!=null&&f5.$==1){ const f6=f5.$0;return f6<0?"":f3.slice(0, f6+1);} else return"";} else if(f5==null)return f3.slice(f4.$0);else { const f7=f5.$0;return f7<0?"":f3.slice(f4.$0, f7+1);} }
function dw(f3){ const f4=globalThis.document.createElement("div");if(!dy().test(f3)){ f4.appendChild(globalThis.document.createTextNode(f3));return f4;} else { const f5=dC().exec(f3);const f6=v(f5, null)?"":m(f5, 1).toLowerCase();const f7=(dz())[f6];const f8=f7?f7:dA();f4.innerHTML=f8[1]+f3.replace(dB(), "<$1></$2>")+f8[2];function f9(f_, f$){ while(true){ if(f$===0)return f_;else { const ga=f$;f_=f_.lastChild;f$=ga-1;} } } return f9(f4, f8[0]);} }
function dx(f3){ const f4=[];for(let f5=0, f6=f3.childNodes.length-1;f5<=f6;f5++)f4.push(f3.childNodes[f5]);return f4;}
function dy(){ return e0.rhtml;}
function dz(){ return e0.wrapMap;}
function dA(){ return e0.defaultWrap;}
function dB(){ return e0.rxhtmlTag;}
function dC(){ return e0.rtagName;}
function dD(f3, f4, f5){ const f6=f3.querySelectorAll(f4);for(let f7=0, f8=f6.length-1;f7<=f8;f7++)f5(f6[f7]);}
function dE(f3, f4){ const f5=globalThis.document.querySelectorAll(f3);for(let f6=0, f7=f5.length-1;f6<=f7;f6++)f4(f5[f6]);}
function dF(f3, f4, f5){ let f6;if(f5.parentNode===f3){ const f7=f5.nextSibling;let f8=v(f7, null)?null:f7;f6=f4===f8;} else f6=false;if(!f6)f3.insertBefore(f5, f4);}
function dG(f3, f4){ if(f4.parentNode===f3)f3.removeChild(f4);}
function dH(){ return i("The input sequence has an insufficient number of elements.");}
function dI(f3, f4){ let f5=true;let f6=0;while(f5&&f6<p(f4))if(v(f4[f6], f3))f5=false;else f6=f6+1;return!f5;}
function dJ(){ return i("The input must be non-negative.");}
let dK=fU((f3) => class f4 extends g { static { dK=f3(this);} d;GetEnumerator(){ return cL(b0((f5) => f5.K, this.d));} constructor(f5){ super();this.d=f5;} });
function dL(){ return eP();}
function dM(f3){ const f4=null;return ba(() => bb(dO(() => { }, eQ(f3)), () => { eR(f3);return bc(null);}));}
function dN(f3, f4){ return dP(e2(f3.$0, f4.$0));}
function dO(f3, f4){ const f5=f4.Duration;if(f5===0)return bk();else { const f6=(f7) => { function f8(f9){ return(f_) => { const f$=f_-f9;f4.Compute(f$);f3();return f$<=f5?void requestAnimationFrame((ga) => {(f8(f9))(ga);}):f7();};} requestAnimationFrame((f9) => {(f8(f9))(f9);});};return bj((f7, f8, f9) => f6.apply(null, [f7, f8, f9]));} }
function dP(f3){ return{$:0, $0:f3};}
function dQ(f3){ return dP(e4(b0(eT, f3)));}
function dR(){ return dP(e5());}
function dS(){ return eX.BatchUpdatesEnabled;}
function dT(f3){ const f4=[0];function f5(){ const f6=null;return ba(() => bb(f3, () => { const f7=f4[0];return v(f7, 1)?(f4[0]=0,bk()):v(f7, 2)?(f4[0]=1,f5()):bk();}));} return() => { const f6=f4[0];if(v(f6, 0)){ f4[0]=1;bd(f5(), null);} else v(f6, 1)?f4[0]=2:void 0;};}
function dU(f3, f4, f5, f6){ const f7={DynElem:f3, DynFlags:f4, DynNodes:f5};fW(f7, "OnAfterRender", f6);return f7;}
function dV(f3, f4){ const f5=[];const f6=[];function f7(f_){ while(true){ if(!(f_===null)){ if(f_!=null&&f_.$==1)return f5.push(f_.$0);else if(f_!=null&&f_.$==2){ const f$=f_.$1;const ga=f_.$0;f7(ga);f_=f$;} else return f_!=null&&f_.$==3?f_.$0(f3):f_!=null&&f_.$==4?f6.push(f_.$0):null;} else return null;} } f7(f4);const f8=f5.slice(0);let f9=dU(f3, dY(f4), f8, f6.length===0?null:bq((f_) => { b2((f$) => { f$(f_);}, f6);}));return f9;}
function dW(f3){ return eD((f4) => f4.NChanged, df(), dl, f3.DynNodes);}
function dX(f3){ return dU(f3, 0, [], null);}
function dY(f3){ return f3!==null&&f3.hasOwnProperty("flags")?f3.flags:0;}
function dZ(f3){ return eo.A3(f3);}
function d0(f3, f4){ return eo.A1(new e6(f3, f4));}
function d1(){ return e8.EmptyAttr;}
function d2(f3){ const f4=2;return(f3.DynFlags&f4)===f4;}
function d3(f3){ return d9(f3, (f4, f5) => f4.NGetExitAnim(f5));}
function d4(f3){ const f4=1;return(f3.DynFlags&f4)===f4;}
function d5(f3){ return d9(f3, (f4, f5) => f4.NGetEnterAnim(f5));}
function d6(f3){ const f4=4;return(f3.DynFlags&f4)===f4;}
function d7(f3){ return d9(f3, (f4, f5) => f4.NGetChangeAnim(f5));}
function d8(f3, f4){ if(f3===null)return f4;else if(f4===null)return f3;else { const f5=eo.A2(f3, f4);d$(f5, dY(f3)|dY(f4));return f5;} }
function d9(f3, f4){ return dQ(cl((f5) => f4(f5, f3.DynElem), f3.DynNodes));}
function d_(f3, f4){ cj((f5) => { f5.NSync(f3);}, f4.DynNodes);}
function d$(f3, f4){ f3.flags=f4;}
let ea=fU((f3) => { fX(r);return class f4 extends r { static { ea=f3(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let eb=fU((f3) => { fX(r);return class f4 extends r { static { eb=f3(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let ec=fU((f3) => { fX(r);return class f4 extends r { static { ec=f3(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function ed(f3, f4){ return dZ((f5) => { f5.addEventListener(f3, (f6) =>(f4(f5))(f6), false);});}
function ee(f3){ return eo.A4(f3);}
function ef(f3, f4){ return d0(f4, (f5) =>(f6) => f5.setAttribute(f3, f6));}
function eg(f3){ return em(fx(), f3);}
function eh(f3){ return em(fy(), f3);}
function ei(f3){ return em(fz(), f3);}
function ej(f3){ return em(fA(), f3);}
function ek(f3){ return em(fB(), f3);}
function el(f3){ return em(fC(), f3);}
function em(f3, f4){ const f5=f3(f4);return eo.Append(dZ(f5[0]), en(f5[1], f5[2]));}
function en(f3, f4){ return d0(f4, f3);}
let eo=fU((f3) => class f4 { static { eo=f3(this);} static Handler(f5, f6){ return eo.HandlerImpl(f5, f6);} static Concat(f5){ const f6=eE(f5);return eC(d1(), eo.Append, f6);} static Create(f5, f6){ return dZ((f7) => { f7.setAttribute(f5, f6);});} static HandlerImpl(f5, f6){ return dZ((f7) => { f7.addEventListener(f5, (f8) =>(f6(f7))(f8), false);});} static Append(f5, f6){ return d8(f5, f6);} static A4(f5){ return f1(f4, {$:4, $0:f5});} static A3(f5){ return f1(f4, {$:3, $0:f5});} static A1(f5){ return f1(f4, {$:1, $0:f5});} static A2(f5, f6){ return f1(f4, {$:2, $0:f5, $1:f6});} });
let ep=fU((f3) => { fX(r);return class f4 extends r { static { ep=f3(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let eq=fU((f3) => { fX(r);return class f4 extends r { static { eq=f3(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function er(f3){ return{$:0, $0:f3};}
function es(f3){ return{$:1, $0:f3};}
let et=fU((f3) => class f4 { static { et=f3(this);} static Cons(f5, f6){ return f1(f4, {$:1, $0:f5, $1:f6});} static Empty=f1(et, {$:0});GetEnumerator(){ return new cP(this, null, (f5) => { const f6=f5.s;return f6.$==0?false:(f5.c=f6.$0,f5.s=f6.$1,true);}, void 0);} });
function eu(f3, f4){ return cn(f4).join(f3);}
function ev(f3, f4, f5){ return ex(f3, new RegExp("["+ey(f4.join(""))+"]"), f5);}
function ew(f3, f4){ return f3.substring(0, f4.length)==f4;}
function ex(f3, f4, f5){ return f5===1?cm((f6) => f6!=="", ez(f3, f4)):ez(f3, f4);}
function ey(f3){ return f3.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function ez(f3, f4){ return f3.split(f4);}
function eA(f3, f4){ return cb(f3, eB(f4));}
function eB(f3){ return f3==null?"":f3;}
function eC(f3, f4, f5){ const f6=p(f5);function f7(f8){ return(f9) => { let f_;switch(f9<=0?0:f9===1?f8>=0&&f8<f6?1:(f_=f9,2):(f_=f9,2)){ case 0:return f3;case 1:return m(f5, f8);case 2:const f$=f9/2>>0;return f4((f7(f8))(f$), (f7(f8+f$))(f9-f$));} };} return(f7(0))(f6);}
function eD(f3, f4, f5, f6){ const f7=p(f6);function f8(f9){ return(f_) => { let f$;switch(f_<=0?0:f_===1?f9>=0&&f9<f7?1:(f$=f_,2):(f$=f_,2)){ case 0:return f4;case 1:return f3(m(f6, f9));case 2:const ga=f_/2>>0;return f5((f8(f9))(ga), (f8(f9+ga))(f_-ga));} };} return(f8(0))(f7);}
function eE(f3){ if(f3 instanceof Array)return f3;else if(f3 instanceof et)return cp(f3);else if(f3===null)return[];else { const f4=[];const f5=cL(f3);try { while(f5.MoveNext())f4.push(f5.Current);return f4;} finally { if(typeof f5=="object"&&a(f5))f5.Dispose();} } }
let eF=fU((f3) => class f4 { static { eF=f3(this);} c;s;v;static Create(f5){ let f6;f6=null;f6=eF.New(f5, null, () => { let f7;f7=f6.s;return f7===null?(f7=O(f6.c()),f6.s=f7,P(f7, () => { f6.s=null;}),f7):f7;});return f6;} static New(f5, f6, f7){ return f1(eF, {c:f5, s:f6, v:f7});} });
let eG=fU((f3) => class f4 extends g { static { eG=f3(this);} d;GetEnumerator(){ return cL(b0((f5) => f5.V, this.d));} constructor(f5){ super();this.d=f5;} });
function eH(f3, f4){ return{PreviousNodes:f3, Top:f4};}
function eI(){ return eK(new bW("New_3"));}
function eJ(f3){ const f4=[];function f5(f8, f9){ while(true)switch(f8){ case 0:if(f9!=null&&f9.$==0){ const f_=f9.$1;const f$=f9.$0;f5(0, f$);f9=f_;} else if(f9!=null&&f9.$==1){ const ga=f9.$0;f9=ga;f8=1;} else if(f9!=null&&f9.$==2){ const gb=f9.$0;f9=gb.Current;} else if(f9!=null&&f9.$==6){ const gc=f9.$0.Holes;return(((gd) =>(ge) => { cj(gd, ge);})(f7))(gc);} else return null;break;case 1:f4.push(f9);f9=f9.Children;f8=0;break;} } function f6(f8){ return f5(0, f8);} function f7(f8){ return f5(1, f8);} f6(f3);return eK(new bW("New_2", f4));}
function eK(f3){ return{$:0, $0:f3};}
function eL(f3, f4){ return eK(e_(f3, f4.$0));}
function eM(f3, f4){ return eK(e$(f3.$0, f4.$0));}
function eN(f3){ return fa(f3.$0);}
function eO(f3, f4){ return eK(fb(f3.$0, f4.$0));}
function eP(){ return e1.UseAnimations;}
function eQ(f3){ return eS(ce((f4) => f4.$==1?bq(f4.$0):null, e3(f3.$0)));}
function eR(f3){ cj((f4) => { if(f4.$==0)f4.$0();}, e3(f3.$0));}
function eS(f3){ const f4=eE(f3);const f5=p(f4);if(f5===0)return eU();else if(f5===1)return m(f4, 0);else { const f6=b7(b0((f8) => f8.Duration, f4));const f7=cl((f8) => eW(f6, f8), f4);return eV(f6, (f8) => { cj((f9) => { f9.Compute(f8);}, f7);});} }
function eT(f3){ return f3.$0;}
function eU(f3){ return eV(0, () => f3);}
function eV(f3, f4){ return{Compute:f4, Duration:f3};}
function eW(f3, f4){ const f5=f4.Compute;const f6=f4.Duration;const f7=fN(() => f4.Compute(f4.Duration));return{Compute:(f8) => f8>=f6?f7.f():f5(f8), Duration:f3};}
let eX=fU((f3) => class f4 { static { eX=f3(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eY(f3, f4){ function f5(f6, f7){ let f8;while(true){ if(f6==null)return f7.$==1?bq([f7.$0[0], [f7.$0[1], f7.$1]]):null;else if(f3){ f8=f6;f6=f8.Right;f7=et.Cons([f8.Node, f8.Left], f7);} else { f8=f6;f6=f8.Left;f7=et.Cons([f8.Node, f8.Right], f7);} } } return b4((f6) => f5(f6[0], f6[1]), [f4, et.Empty]);}
function eZ(f3){ let f4=[];let f5;for(var f6 in f3)f4.push.apply(f4, f3[f6]);return f4;}
let e0=fU((f3) => class f4 { static { e0=f3(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const f5=[1, "<table>", "</table>"];let f6=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", f5], ["tbody", f5], ["tfoot", f5], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=f6;this.defaultWrap=[0, "", ""];} });
let e1=fU((f3) => class f4 { static { e1=f3(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e9.Custom((f5) => { const f6=f5*f5;return 3*f6-2*(f6*f5);});this.UseAnimations=true;} });
function e2(f3, f4){ return f3.$==0?f4:f4.$==0?f3:{$:2, $0:f3, $1:f4};}
function e3(f3){ const f4=[];function f5(f6){ while(true){ if(f6.$==1)return f4.push(f6.$0);else if(f6.$==2){ const f7=f6.$1;const f8=f6.$0;f5(f8);f6=f7;} else return f6.$==3?cj((f9) => { f4.push(f9);}, f6.$0):null;} } f5(f3);return f4.slice(0);}
function e4(f3){ const f4=eE(f3);return eC(e5(), e2, f4);}
function e5(){ return fQ.Empty;}
let e6=fU((f3) => class f4 extends g { static { e6=f3(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(f5){ return dR();} NGetEnterAnim(f5){ return dR();} NGetChangeAnim(f5){ return dR();} NSync(f5){ if(this.dirty){(this.push(f5))(this.value);this.dirty=false;} } constructor(f5, f6){ super();this.push=f6;this.value=void 0;this.dirty=false;this.updates=dh((f7) => { this.value=f7;this.dirty=true;}, f5);} });
let e7=fU((f3) => { fX(Error);return class f4 extends Error { static { e7=f3(this);} static New(){ return new this("New");} static New_1(f5){ return new this("New_1", f5);} constructor(f5, f6){ if(f5=="New"){ f5="New_1";f6="The given key was not present in the dictionary.";} if(f5=="New_1"){ const f7=f6;super(f7);} } };});
let e8=fU((f3) => class f4 { static { e8=f3(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gj) =>[(gk) => { gk.addEventListener("change", () => gj.Get()!=gk.checked?gj.Set(gk.checked):null);}, (gk) =>(gl) => gl!=null&&gl.$==1?void(gk.checked=gl.$0):null, dh(bq, gj.View)];this.StringSet=(gj) =>(gk) => { gj.value=gk;};this.StringGet=(gj) => bq(gj.value);const f5=fh();const f6=fg();this.StringApply=(gj) => ff(f5, f6, gj);this.StringListSet=(gj) =>(gk) => { const gl=gj.options;for(let gm=0, gn=gl.length-1;gm<=gn;gm++)((() => { const go=gl.item(gm);go.selected=dI(go.value, gk);})());};this.StringListGet=(gj) => { const gk=gj.selectedOptions;return bq(cn(b5(() => b6((gl) =>[gk.item(gl).value], k(0, gk.length-1)))));};const f7=fj();const f8=fi();this.StringListApply=(gj) => ff(f7, f8, gj);this.DateTimeSetUnchecked=(gj) =>(gk) => { gj.value=(new Date(gk)).toLocaleString();};this.DateTimeGetUnchecked=(gj) => { let gk;let gl;const gm=gj.value;if(fD(gm))return bq(-8640000000000000);else { gk=0;const gn=fL(gm);let go=gn!=null&&gn.$==1&&(gk=gn.$0,true);gl=[go, gk];return gl[0]?bq(gl[1]):null;} };const f9=fl();const f_=fk();this.DateTimeApplyUnchecked=(gj) => ff(f9, f_, gj);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gj) => { const gk=gj.files;return bq(cn(b5(() => b0((gl) => gk.item(gl), k(0, gk.length-1)))));};const f$=fo();const ga=fn();this.FileApplyUnchecked=(gj) => fm(f$, ga, gj);this.IntSetUnchecked=(gj) =>(gk) => { gj.value=String(gk);};this.IntGetUnchecked=(gj) => { const gk=gj.value;if(fD(gk))return bq(0);else { const gl=+gk;return gl!==gl>>0?null:bq(gl);} };const gb=fq();const gc=fp();this.IntApplyUnchecked=(gj) => ff(gb, gc, gj);this.IntSetChecked=(gj) =>(gk) => { const gl=gk.Input;return gj.value!=gl?void(gj.value=gl):null;};this.IntGetChecked=(gj) => { let gk;let gl;const gm=gj.value;if(fD(gm))gk=(gj.checkValidity?gj.checkValidity():true)?fE.Blank(gm):fE.Invalid(gm);else { const gn=(gl=0,[cD(gm, {get:() => gl, set:(go) => { gl=go;}}), gl]);gk=gn[0]?fE.Valid(gn[1], gm):fE.Invalid(gm);} return bq(gk);};const gd=fs();const ge=fr();this.IntApplyChecked=(gj) => ff(gd, ge, gj);this.FloatSetUnchecked=(gj) =>(gk) => { gj.value=String(gk);};this.FloatGetUnchecked=(gj) => { const gk=gj.value;if(fD(gk))return bq(0);else { const gl=+gk;return isNaN(gl)?null:bq(gl);} };const gf=fu();const gg=ft();this.FloatApplyUnchecked=(gj) => ff(gf, gg, gj);this.FloatSetChecked=(gj) =>(gk) => { const gl=gk.Input;return gj.value!=gl?void(gj.value=gl):null;};this.FloatGetChecked=(gj) => { let gk;const gl=gj.value;if(fD(gl))gk=(gj.checkValidity?gj.checkValidity():true)?fE.Blank(gl):fE.Invalid(gl);else { const gm=+gl;gk=isNaN(gm)?fE.Invalid(gl):fE.Valid(gm, gl);} return bq(gk);};const gh=fw();const gi=fv();this.FloatApplyChecked=(gj) => ff(gh, gi, gj);} });
let e9=fU((f3) => class f4 extends g { static { e9=f3(this);} transformTime;static Custom(f5){ return new f4(f5);} constructor(f5){ super();this.transformTime=f5;} });
function e_(f3, f4){ return new bW("New_2", cm(f3, fa(f4)));}
function e$(f3, f4){ const f5=new bW("New_2", fa(f4));f5.ExceptWith(fa(f3));return f5;}
function fa(f3){ const f4=cr(f3.Count, void 0);f3.CopyTo(f4, 0);return f4;}
function fb(f3, f4){ const f5=new bW("New_2", fa(f3));f5.IntersectWith(fa(f4));return f5;}
function fc(f3){ return f3.$==1?f3.$0:fe();}
function fd(f3){ return f3.$==1?f3.$1:fe();}
function fe(){ return i("The input list was empty.");}
function ff(f3, f4, f5){ let f6;f6=null;return[(f7) => { const f8=() => { f5.UpdateMaybe((f9) => { let f_;f6=f3(f7);return f6!=null&&f6.$==1&&(!v(f6.$0, f9)&&(f_=[f6, f6.$0],true))?f_[0]:null;});};f7.addEventListener("change", f8);f7.addEventListener("input", f8);f7.addEventListener("keypress", f8);}, (f7) => { const f8=f4(f7);return(f9) => f9==null?null:f8(f9.$0);}, dh((f7) => { let f8;return f6!=null&&f6.$==1&&(v(f6.$0, f7)&&(f8=f6.$0,true))?null:bq(f7);}, f5.View)];}
function fg(){ return e8.StringSet;}
function fh(){ return e8.StringGet;}
function fi(){ return e8.StringListSet;}
function fj(){ return e8.StringListGet;}
function fk(){ return e8.DateTimeSetUnchecked;}
function fl(){ return e8.DateTimeGetUnchecked;}
function fm(f3, f4, f5){ let f6;f6=null;return[(f7) => { f7.addEventListener("change", () => { f5.UpdateMaybe((f8) => { let f9;f6=f3(f7);return f6!=null&&f6.$==1&&(f6.$0!==f8&&(f9=[f6, f6.$0],true))?f9[0]:null;});});}, (f7) => { const f8=f4(f7);return(f9) => f9==null?null:f8(f9.$0);}, dh((f7) => { let f8;return f6!=null&&f6.$==1&&(v(f6.$0, f7)&&(f8=f6.$0,true))?null:bq(f7);}, f5.View)];}
function fn(){ return e8.FileSetUnchecked;}
function fo(){ return e8.FileGetUnchecked;}
function fp(){ return e8.IntSetUnchecked;}
function fq(){ return e8.IntGetUnchecked;}
function fr(){ return e8.IntSetChecked;}
function fs(){ return e8.IntGetChecked;}
function ft(){ return e8.FloatSetUnchecked;}
function fu(){ return e8.FloatGetUnchecked;}
function fv(){ return e8.FloatSetChecked;}
function fw(){ return e8.FloatGetChecked;}
function fx(){ return e8.StringApply;}
function fy(){ return e8.FloatApplyUnchecked;}
function fz(){ return e8.BoolCheckedApply;}
function fA(){ return e8.DateTimeApplyUnchecked;}
function fB(){ return e8.FileApplyUnchecked;}
function fC(){ return e8.StringListApply;}
function fD(f3){ return eA(fK, f3);}
let fE=fU((f3) => class f4 { static { fE=f3(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(f5){ return f1(f4, {$:2, $0:f5});} static Invalid(f5){ return f1(f4, {$:1, $0:f5});} static Valid(f5, f6){ return f1(f4, {$:0, $0:f5, $1:f6});} });
function fF(f3, f4){ let f5;if(f4!=null&&f4.$==1){ const f6=[];f5=f4.$0[0].nextSibling;while(f5!==f4.$0[1]){ f6.push(f5);f5=f5.nextSibling;} return fJ(f6);} else { let f7=f3.childNodes.length;const f8=f3.childNodes;let f9=cs(f7, (f_) => f8[f_]);return fJ(f9);} }
function fG(f3, f4){ const f5=f3.$0;return fJ(cm((f6) => cq((f7) =>!(f6===f7), f5), f4.$0));}
function fH(f3, f4){ cj(f3, f4.$0);}
function fI(f3){ const f4=[];function f5(f6){ while(true){ if(f6!=null&&f6.$==2){ const f7=f6.$0;f6=f7.Current;} else if(f6!=null&&f6.$==1)return f4.push(f6.$0.El);else if(f6==null)return null;else if(f6!=null&&f6.$==5)return f4.push(f6.$0);else if(f6!=null&&f6.$==4)return f4.push(f6.$0.Text);else if(f6!=null&&f6.$==6){ const f8=f6.$0.Els;return(((f$) =>(ga) => { cj(f$, ga);})((f$) => { if(f$==null||f$.constructor===Object)f5(f$);else f4.push(f$);}))(f8);} else { const f9=f6.$1;const f_=f6.$0;f5(f_);f6=f9;} } } f5(f3.Children);return fJ(eE(f4));}
function fJ(f3){ return{$:0, $0:f3};}
function fK(f3){ return f3.match(new RegExp("\\s"))!==null;}
function fL(f3){ const f4=Date.parse(f3);return isNaN(f4)?null:bq(f4);}
function fM(f3, f4, f5, f6){ const f7=+f3;const f8=f7===f7-f7%1&&f7>=f4&&f7<=f5;if(f8)f6.set(f7);return f8;}
function fN(f3){ return fS(false, f3, fO);}
function fO(){ const f3=this.v();this.c=true;this.v=f3;this.f=fP;return f3;}
function fP(){ return this.v;}
let fQ=fU((f3) => class f4 { static { fQ=f3(this);} static Empty;static { this.Empty={$:0};} });
function fR(f3){ f3.splice(0, p(f3));}
function fS(f3, f4, f5){ return{c:f3, v:f4, f:f5};}
f2(() => { b();});
fT();

